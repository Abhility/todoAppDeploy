(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(7),r=a.n(l),o=a(5),i=a(1),s=a(4);function m(e){var t=e.data,a=e.deleteItem,n=e.alterItem;return c.a.createElement("li",{className:"collection-item hoverable todo-item"},c.a.createElement("div",{className:"todo"},c.a.createElement("section",null,c.a.createElement("h5",{style:{textDecoration:t.done?"line-through":"none"}},t.name),c.a.createElement("p",{className:"grey-text chip todo-date"},c.a.createElement("span",{className:"teal-text"},"Added On : "),new Date(t.date).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}))),c.a.createElement("section",{className:"todo-actions"},t.loading?c.a.createElement("img",{src:"../loader.gif",alt:"loading...",height:"50px",width:"50px"}):c.a.createElement(c.a.Fragment,null,t.done?c.a.createElement("a",{href:"#",className:"secondary-content waves-effect",style:{margin:"0px 20px"},onClick:n.bind(null,t.id)},c.a.createElement("i",{className:"material-icons red-text"},"clear")):c.a.createElement("a",{href:"#",className:"secondary-content waves-effect",style:{margin:"0px 20px"},onClick:n.bind(null,t.id)},c.a.createElement("i",{className:"material-icons teal-text"},"done")),c.a.createElement("a",{href:"#",className:"secondary-content waves-effect",onClick:a.bind(null,t.id)},c.a.createElement("i",{className:"material-icons red-text"},"delete"))))))}function d(e){var t=e.todos,a=e.deleteItem,n=e.alterItem,l=e.loading,r=t.map((function(e){return c.a.createElement(m,{key:e.id,data:e,deleteItem:a,alterItem:n})}));return c.a.createElement("ul",{className:"collection"},l&&c.a.createElement("li",{className:"collection-item loader"},c.a.createElement("img",{src:"../spin.gif",alt:"loading...",height:"100px",width:"100px"})),r)}function u(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),m=Object(s.a)(r,2),u=m[0],f=m[1],h=Object(n.useState)(""),p=Object(s.a)(h,2),E=p[0],b=p[1],g="https://abhility-fakedb.glitch.me/todos",v=Object(n.useRef)(null),N=Object(n.useRef)(null),y=function(e){f(e),fetch(g).then((function(e){return e.json()})).then((function(e){f(!1),e=(e=e.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{loading:!1})}))).reverse(),Array.isArray(e)?l(e):l([])})).catch((function(e){f(!1),console.log(e)}))};Object(n.useEffect)((function(){y(!0),v.current.classList.add("white-text"),v.current.classList.add("teal")}),[]);return c.a.createElement("div",{style:{margin:"25px auto"}},c.a.createElement("form",{className:"container row",onSubmit:function(e){e.preventDefault(),f(!0);var t={name:E,date:Date.now(),done:!1};b(""),fetch(g,{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){y(!0)})).catch((function(e){f(!1),console.log(e)}))}},c.a.createElement("div",{className:"input-field col s8 l8 m8"},c.a.createElement("input",{id:"input",type:"text",name:"item",value:E,onChange:function(e){var t=e.target.value;b(t)},className:"validate",required:!0}),c.a.createElement("label",{htmlFor:"input"},"Type here")),c.a.createElement("div",{className:"input-field col s4 l4 m4"},c.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light hoverable pulse"},c.a.createElement("i",{className:"material-icons"},"edit"))),c.a.createElement("div",{className:"sorts row"},c.a.createElement("span",{className:"chip col s8 l2 orange white-text sort-label"},c.a.createElement("i",{className:"material-icons"},"sort"),"Sort By"),c.a.createElement("span",{className:"col s0 l4"}),c.a.createElement("span",{className:"chip col s8 l2 sort-button",ref:N,onClick:function(){N.current.classList.add("white-text"),N.current.classList.add("teal"),v.current.classList.remove("white-text"),v.current.classList.remove("teal");var e=a.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}));l((function(t){return Object(o.a)(e)}))}},"Alphabetically"),c.a.createElement("span",{className:"col s0 l2"}),c.a.createElement("span",{className:"chip col s8 l2 sort-button",ref:v,onClick:function(){v.current.classList.add("white-text"),v.current.classList.add("teal"),N.current.classList.remove("white-text"),N.current.classList.remove("teal");var e=a.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{date:new Date(e.date)})})).sort((function(e,t){return e.date>t.date?-1:e.date<t.date?1:0}));l((function(t){return Object(o.a)(e)}))}},"Added Date"))),c.a.createElement("div",{className:"container row"},c.a.createElement(d,{todos:a,deleteItem:function(e){var t=a.map((function(t){return t.id===e&&(t.loading=!0),t}));l(t),fetch("".concat(g,"/").concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){y(!1)})).catch((function(e){console.log(e)}))},alterItem:function(e){var t=a.map((function(t){return t.id===e&&(t.loading=!0),t}));l(t);var n=a.find((function(t){return t.id===e}));n=Object(i.a)(Object(i.a)({},n),{},{done:!n.done}),fetch("".concat(g,"/").concat(e),{method:"PUT",body:JSON.stringify(n),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){y(!1)})).catch((function(e){console.log(e)}))},loading:u})))}var f=function(){return c.a.createElement("div",{className:" container header"},c.a.createElement("h2",{className:"container teal-text"},"TodoList App"),c.a.createElement(u,null))};r.a.render(c.a.createElement(f,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(13)}},[[8,1,2]]]);
//# sourceMappingURL=main.75402f8d.chunk.js.map